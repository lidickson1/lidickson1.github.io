(this["webpackJsonpalice-maze"]=this["webpackJsonpalice-maze"]||[]).push([[0],{31:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(16),i=a.n(l),r=(a(31),a(17)),c=a(13),o=a(12),p=a(8),d=a(9),u=a(3),h=a(11),b=a(10),j={NORMAL:1,START:2,GOAL:3},O=a(14),v=a(1),y={BLACK:{name:"black",value:"#000"},RED:{name:"red",value:"#F00"},YELLOW:{name:"yellow",value:"#FFFF00"}};var f=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onChange",value:function(e){this.props.updateColor(y[e.target.id])}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{onChange:this.onChange,children:Object.entries(y).map((function(t,a){var s=Object(O.a)(t,2),n=s[0],l=s[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"radio",id:n,name:"color",checked:null!==e.props.selected&&e.props.selected.color===l,disabled:null===e.props.selected,readOnly:!0}),Object(v.jsx)("label",{htmlFor:n,children:n.charAt(0)+n.slice(1).toLowerCase()})]},a)}))})}}]),a}(n.a.Component),m=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],x=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).solve=s.solve.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"solve",value:function(){for(var e,t=this.props.maze,a=t.find((function(e){return e.cellType===j.START})),s=[{cell:a,stepSize:1,path:[a],depth:0}],n=new Map,l={},i=0,r=[];s.length>0;){var p=s.shift();if(p.depth!==i){var d,u=new Map,h=Object(o.a)(r);try{for(h.s();!(d=h.n()).done;){var b=d.value;u.set(b.cell.y*this.props.size+b.cell.x,b)}}catch(I){h.e(I)}finally{h.f()}l[i]={queue:u},i++}if(r.push(p),p.cell.color===y.RED)p.stepSize++;else if(p.cell.color===y.YELLOW&&(p.stepSize--,0===p.stepSize))continue;var O,v=Object(o.a)(p.cell.arrows);try{for(v.s();!(O=v.n()).done;){var f=O.value,x=p.cell.x+m[f][0]*p.stepSize,S=p.cell.y+m[f][1]*p.stepSize;if(x>=0&&x<this.props.size&&S>=0&&S<this.props.size){var C=S*this.props.size+x,g=t[C];if(n.has(p.stepSize)&&n.get(p.stepSize).includes(C))continue;n.has(p.stepSize)||n.set(p.stepSize,[]),n.get(p.stepSize).push(C);var k=[].concat(Object(c.a)(p.path),[g]);s.push({cell:g,stepSize:p.stepSize,path:[].concat(Object(c.a)(p.path),[g]),depth:p.depth+1}),g.cellType===j.GOAL&&(e=k)}}}catch(I){v.e(I)}finally{v.f()}}for(var w=new Map,T=0,z=r;T<z.length;T++){var N=z[T];w.set(N.cell.y*this.props.size+N.cell.x,N)}l[i]={queue:w},console.log(l),this.props.setSolution(l,e)}},{key:"render",value:function(){return Object(v.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.solve,children:"Solve"})}}]),a}(n.a.Component),S=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).onInput=s.onInput.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onInput",value:function(e){e.target.value&&this.props.updateSize(parseInt(e.target.value))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"size",children:"Size (max 10):"}),Object(v.jsx)("input",{type:"number",id:"size",min:"2",max:"10",value:this.props.size,onChange:this.onInput})]})}}]),a}(n.a.Component),C=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onChange",value:function(e){this.props.updateCellType(j[e.target.id])}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{onChange:this.onChange,children:Object.entries(j).map((function(t,a){var s=Object(O.a)(t,2),n=s[0],l=s[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"radio",id:n,name:"cellType",checked:null!==e.props.selected&&e.props.selected.cellType===l,disabled:null===e.props.selected,readOnly:!0}),Object(v.jsx)("label",{htmlFor:n,children:n.charAt(0)+n.slice(1).toLowerCase()})]},a)}))})}}]),a}(n.a.Component),g=a(26),k=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).getInput=s.getInput.bind(Object(u.a)(s)),s.onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onChange",value:function(e,t){this.props.updateArrow(e,t)}},{key:"getInput",value:function(e){var t=this;return Object(v.jsx)(g.a.Check,{type:"checkbox",id:e,checked:null!==this.props.selected&&this.props.selected.cellType!==j.GOAL&&this.props.selected.arrows.includes(e),disabled:null===this.props.selected||this.props.selected.cellType===j.GOAL,onChange:function(a){return t.onChange(e,a.target.checked)},readOnly:!0})}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h6",{children:"Arrows"}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-1",children:this.getInput(7)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(0)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(1)})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-1",children:this.getInput(6)}),Object(v.jsx)("div",{className:"col-1"}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(2)})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-1",children:this.getInput(5)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(4)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(3)})]})]})}}]),a}(n.a.Component),w=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onClick",value:function(){for(var e="",t=this.props.data,a=0;a<t.length;a++){var s=!1;if(t[a].cellType===j.START?(e+="S",s=!0):t[a].cellType===j.NORMAL?s=!0:t[a].cellType===j.GOAL&&(e+="G"),s)if(0===t[a].arrows.length)e+="B";else{t[a].color!==y.BLACK&&(e+=t[a].color.name.toUpperCase().charAt(0));var n,l=Object(o.a)(t[a].arrows);try{for(l.s();!(n=l.n()).done;){e+=n.value}}catch(p){l.e(p)}finally{l.f()}}(a+1)%this.props.size===0?e+="\n":e+=" "}var i=new Blob([e],{type:"text/plain"}),r=document.createElement("a"),c=URL.createObjectURL(i);r.href=c,r.download="maze.txt",document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(c)}),0)}},{key:"render",value:function(){return Object(v.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:this.onClick,children:"Save"})}}]),a}(n.a.Component),T=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s.onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onClick",value:function(){document.getElementById("fileInput").click()}},{key:"onChange",value:function(e){var t=this,a=e.target.files[0],s=new FileReader;s.addEventListener("load",(function(e){t.props.loadMaze(e.target.result)})),s.readAsText(a)}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onClick,children:"Load"}),Object(v.jsx)("input",{id:"fileInput",type:"file",accept:".txt",style:{display:"none"},onChange:this.onChange})]})}}]),a}(n.a.Component),z={NOT_VISITED:0,VISITING:1,VISITED:2,ON_PATH:3},N=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handleClick=s.handleClick.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"handleClick",value:function(){this.props.handler(this.props.x,this.props.y)}},{key:"render",value:function(){var e,t=this;e=this.props.cellType===j.START?"#FF7FED":this.props.visit===z.VISITING?"#66FF66":this.props.visit===z.ON_PATH?"#33e5b2":this.props.visit===z.VISITED?"#00CCFF":this.props.x%2===this.props.y%2?"#CCCCCC":"#DDDDDD";var a,s=parseInt(getComputedStyle(document.querySelector(":root")).getPropertyValue("--cell-size")),n=.16*s,l=.08*s,i=20,r=[],c={0:[[s/2,n],[s/2-i,n],[s/2+i,n]],1:[[s-n,n],[s-n-i,n],[s-n,n+i]],2:[[s-n,s/2],[s-n,s/2-i],[s-n,s/2+i]],3:[[s-n,s-n],[s-n,s-n-i],[s-n-i,s-n]],4:[[s/2,s-n],[s/2-i,s-n],[s/2+i,s-n]],5:[[n,s-n],[n,s-n-i],[n+i,s-n]],6:[[n,s/2],[n,s/2-i],[n,s/2+i]],7:[[n,n],[n+i,n],[n,n+i]]};if(null!==this.props.solution){var p,d=Object(o.a)(this.props.solution);try{for(d.s();!(p=d.n()).done;){var u=Object(O.a)(p.value,2),h=u[0],b=u[1];if(b.length>0)for(var y=c[h],f=0;f<Math.min(y.length,b.length);f++)r.push(Object(v.jsx)("text",{x:y[f][0],y:y[f][1],"dominant-baseline":"middle","text-anchor":"middle","font-size":"16",fill:"white",stroke:"black","stroke-width":"0.6","font-weight":"bold",children:b[f].i}))}}catch(m){d.e(m)}finally{d.f()}}return a=this.props.cellType===j.GOAL?"GOAL"+(null===this.props.solution?"":" "+Array.from(this.props.solution.values()).find((function(e){return e.length>0}))[0].i):Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,style:{pointerEvents:"none"},children:[Object(v.jsxs)("defs",{children:[Object(v.jsx)("marker",{id:"arrowhead_black",viewBox:"0 0 40 40",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto",children:Object(v.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#000"})}),Object(v.jsx)("marker",{id:"arrowhead_red",viewBox:"0 0 40 40",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto",children:Object(v.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#F00"})}),Object(v.jsx)("marker",{id:"arrowhead_yellow",viewBox:"0 0 40 40",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto",children:Object(v.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#FFFF00"})})]}),this.props.arrows.map((function(e,a){return Object(v.jsx)("line",{x1:s/2,y1:t.props.arrows.length>1?s/2:s-n,x2:s/2,y2:n,stroke:t.props.color.value,strokeWidth:l,markerEnd:"url(#arrowhead_"+t.props.color.name+")",transform:"rotate("+45*e+" "+s/2+" "+s/2+")"},a)})),r]}),Object(v.jsx)("div",{className:"cell",onClick:this.handleClick,style:{backgroundColor:e,borderColor:this.props.selected?"lime":"black"},children:a})}}]),a}(n.a.Component),I=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handler=s.handler.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"handler",value:function(e,t){this.props.updateSelected(e,t)}},{key:"render",value:function(){var e=this,t=0,a=new Map;if(null!==this.props.queue){var n,l=Object(o.a)(this.props.queue.values());try{for(l.s();!(n=l.n()).done;){var i=n.value;i.depth>t&&(t=i.depth)}}catch(b){l.e(b)}finally{l.f()}for(var p=0;p<this.props.solution.length;p++){var d=this.props.solution[p],u=0;if(p<this.props.solution.length-1){var h=this.props.solution[p+1];u=h.y<d.y&&h.x===d.x?0:h.y<d.y&&h.x>d.x?1:h.y===d.y&&h.x>d.x?2:h.y>d.y&&h.x>d.x?3:h.y>d.y&&h.x===d.x?4:h.y>d.y&&h.x<d.x?5:h.y===d.y&&h.x<d.x?6:7}a.has(u)||a.set(u,[]),a.get(u).push(Object(r.a)(Object(r.a)({},d),{},{i:p,direction:u}))}console.log(a)}return Object(v.jsx)("div",{className:"maze",children:this.props.data.map((function(n,l){var i=z.NOT_VISITED;return null!==e.props.queue&&e.props.queue.has(l)&&(i=e.props.queue.get(l).depth===t?z.VISITING:e.props.solution.some((function(e){return e.x===n.x&&e.y===n.y}))?z.ON_PATH:z.VISITED),null!==e.props.adjacents&&e.props.adjacents.some((function(e){return e.x===n.x&&e.y===n.y}))?i=z.VISITING:null!==e.props.playedSteps&&e.props.playedSteps.slice(0,e.props.playedStep+1).map((function(e){return e[0]})).includes(l)&&(i=z.ON_PATH),Object(s.createElement)(N,Object(r.a)(Object(r.a)({},n),{},{key:l,selected:null!==e.props.selected&&e.props.selected===l,handler:e.handler,visit:i,solution:null===e.props.solution||i!==z.ON_PATH&&i!==z.VISITING?null:new Map(Object(c.a)(a).map((function(e){var t=Object(O.a)(e,2);return[t[0],t[1].filter((function(e){return e.x===n.x&&e.y===n.y}))]})))}))}))})}}]),a}(n.a.Component),A=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s.previous=s.previous.bind(Object(u.a)(s)),s.next=s.next.bind(Object(u.a)(s)),s.getClass=s.getClass.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onClick",value:function(e){this.props.updateStep(e)}},{key:"previous",value:function(){this.props.step>0&&this.props.updateStep(this.props.step-1),this.props.middle>1&&this.props.step<this.props.middle&&this.props.updateStepButton(this.props.middle-1)}},{key:"next",value:function(){this.props.step<this.props.maxStep&&this.props.updateStep(this.props.step+1),this.props.middle<this.props.maxStep-1&&this.props.step>this.props.middle&&this.props.updateStepButton(this.props.middle+1)}},{key:"getClass",value:function(e){return void 0===this.props.step||this.props.maxStep<e?"disabled":void 0!==this.props.step&&this.props.step===e?"active":""}},{key:"render",value:function(){var e=this;return Object(v.jsx)("nav",{"aria-label":"Page navigation example",children:Object(v.jsxs)("ul",{className:"pagination",children:[Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("button",{className:"page-link",onClick:this.previous,children:"Previous"})}),Object(v.jsx)("li",{className:"page-item "+this.getClass(this.props.middle-1),children:Object(v.jsx)("button",{className:"page-link",onClick:function(){return e.onClick(e.props.middle-1)},children:void 0===this.props.step?0:this.props.middle-1})}),Object(v.jsx)("li",{className:"page-item "+this.getClass(this.props.middle),children:Object(v.jsx)("button",{className:"page-link",onClick:function(){return e.onClick(e.props.middle)},children:void 0===this.props.step?1:this.props.middle})}),Object(v.jsx)("li",{className:"page-item "+this.getClass(this.props.middle+1),children:Object(v.jsx)("button",{className:"page-link",onClick:function(){return e.onClick(e.props.middle+1)},children:void 0===this.props.step?2:this.props.middle+1})}),Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("button",{className:"page-link",onClick:this.next,children:"Next"})})]})})}}]),a}(n.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"onClick",value:function(e){this.props.selectTab(e)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(v.jsx)("li",{className:"nav-item",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link"+("play"===this.props.selectedTab?" active":""),id:"play-tab","data-bs-toggle":"tab","data-bs-target":"#play",type:"button",role:"tab",onClick:function(){return e.onClick("play")},children:"Play"})}),Object(v.jsx)("li",{className:"nav-item",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link"+("edit"===this.props.selectedTab?" active":""),id:"edit-tab","data-bs-toggle":"tab","data-bs-target":"#edit",type:"button",role:"tab",onClick:function(){return e.onClick("edit")},children:"Edit"})}),Object(v.jsx)("li",{className:"nav-item",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link"+("solve"===this.props.selectedTab?" active":""),id:"solve-tab","data-bs-toggle":"tab","data-bs-target":"#solve",type:"button",role:"tab",onClick:function(){return e.onClick("solve")},children:"Solve"})})]})}}]),a}(n.a.Component),B=a(25),M=a(21),F=a(19),R=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={show:!1},s.show=s.show.bind(Object(u.a)(s)),s.hide=s.hide.bind(Object(u.a)(s)),s}return Object(d.a)(a,[{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(M.a,{variant:"danger",onClick:this.show,children:"Restart"}),Object(v.jsxs)(F.a,{show:this.state.show,onHide:this.hide,children:[Object(v.jsx)(F.a.Header,{closeButton:!0,children:Object(v.jsx)(F.a.Title,{children:"Restart"})}),Object(v.jsx)(F.a.Body,{children:"Are you sure you want to restart?"}),Object(v.jsxs)(F.a.Footer,{children:[Object(v.jsx)(M.a,{variant:"secondary",onClick:function(){e.hide(),e.props.restart()},children:"Yes"}),Object(v.jsx)(M.a,{variant:"primary",onClick:this.hide,children:"No"})]})]})]})}}]),a}(n.a.Component),E=["S3 3  53 65 4\n    1  5  63 15 7\n    3  73 3  51 4\n    1  5  64 2  4\n    02 1  62 7  G","SR3 2 53 6 G\n    1 5 65 2 7\n    4 73 1 17 7\n    3 1 53 0 40\n    1 62 1 1 R6"],P=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"btn-group mr-2 mb-4",role:"group","aria-label":"First group",children:E.map((function(t,a){return Object(v.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return e.props.loadMaze(t)},children:a+1})}))})}}]),a}(n.a.Component),D=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).state={data:[{x:0,y:0,cellType:j.NORMAL,color:y.BLACK,arrows:[]}],size:4,selectedCell:0,solvedSteps:null,stepButton:1,selectedTab:"play",playedSteps:[[0,0]],playedStep:0,solvedModal:new B.Modal(document.getElementById("solvedModal")),noSolutionModal:new B.Modal(document.getElementById("noSolutionModal"))},s.newCell=s.newCell.bind(Object(u.a)(s)),s.loadMaze=s.loadMaze.bind(Object(u.a)(s)),s.updateSize=s.updateSize.bind(Object(u.a)(s)),s.updateSelected=s.updateSelected.bind(Object(u.a)(s)),s.updateColor=s.updateColor.bind(Object(u.a)(s)),s.updateCellType=s.updateCellType.bind(Object(u.a)(s)),s.updateArrow=s.updateArrow.bind(Object(u.a)(s)),s.setSolution=s.setSolution.bind(Object(u.a)(s)),s.updateStep=s.updateStep.bind(Object(u.a)(s)),s.updateStepButton=s.updateStepButton.bind(Object(u.a)(s)),s.updatePlayedStep=s.updatePlayedStep.bind(Object(u.a)(s)),s.updatePlayedButton=s.updatePlayedButton.bind(Object(u.a)(s)),s.setSelectedTab=s.setSelectedTab.bind(Object(u.a)(s)),s.setupPlay=s.setupPlay.bind(Object(u.a)(s)),s.getAdjacentCells=s.getAdjacentCells.bind(Object(u.a)(s)),setTimeout((function(){return s.loadMaze("432R G  5Y\n0   0  5\nS02  2  0")}),1),document.querySelector(":root").style.setProperty("--size",s.state.size),s}return Object(d.a)(a,[{key:"setupPlay",value:function(){var e,t=this.state.data.findIndex((function(e){return e.cellType===j.START}));e=this.state.data[t].color===y.RED?2:this.state.data[t].color===y.YELLOW?0:1,this.setState({selectedCell:t,playedSteps:[[t,e]],playedStep:0,playedButton:1})}},{key:"loadMaze",value:function(e){var t=this;console.log("load maze");var a,s=null,n=1,l=[],i=Object(o.a)(e.split("\n"));try{for(i.s();!(a=i.n()).done;){var r=a.value.trim().split(/ +/);null===s?s=r.length:r[0].startsWith("#")||n++;for(var c=0;c<r.length;c++){var p=r[c].replace("\r",""),d=this.newCell(c,n-1),u=!0;p.includes("S")?d.cellType=j.START:p.includes("G")?(d.cellType=j.GOAL,u=!1):d.cellType=j.NORMAL,u&&(p.includes("R")?d.color=y.RED:p.includes("Y")&&(d.color=y.YELLOW),d.arrows=p.split("").filter((function(e){return!isNaN(e)})).map((function(e){return parseInt(e)}))),l.push(d)}if(n===s)break}}catch(h){i.e(h)}finally{i.f()}this.setState({data:l,size:s,solvedSteps:null,stepButton:1,playedSteps:[[0,0]],playedStep:0},(function(){return t.setupPlay()}))}},{key:"updateSize",value:function(e){var t=this;this.setState((function(a){var s;if(e<a.size)s=a.data.filter((function(t){return t.x<e&&t.y<e}));else if(e>a.size){s=[];var n,l=Object(o.a)(a.data);try{for(l.s();!(n=l.n()).done;){var i=n.value;if(s.push(i),i.x+1===a.size)for(var r=1;r<e-i.x;r++)s.push(t.newCell(i.x+r,i.y))}}catch(d){l.e(d)}finally{l.f()}for(var c=0;c<e-a.size;c++)for(var p=0;p<e;p++)s.push(t.newCell(p,e-1))}else s=a.data;return{size:e,data:s,selectedCell:null}}))}},{key:"newCell",value:function(e,t){return{x:e,y:t,cellType:j.NORMAL,color:y.BLACK,arrows:[]}}},{key:"updateSelected",value:function(e,t){var a=this;if("play"===this.state.selectedTab){var s=this.getAdjacentCells.apply(this,Object(c.a)(this.state.playedSteps[this.state.playedStep])).find((function(a){return a.x===e&&a.y===t}));if(void 0===s)return;s.cellType===j.GOAL&&this.state.solvedModal.show()}this.setState((function(s){var n=t*s.size+e,l=s.stepSize;return"play"===a.state.selectedTab&&(l=a.state.playedSteps[a.state.playedStep][1],a.state.data[n].color===y.RED?l++:a.state.data[n].color===y.YELLOW&&l--),{selectedCell:s.selectedCell===n?null:n,playedSteps:s.playedStep+1>=s.playedSteps.length?[].concat(Object(c.a)(s.playedSteps),[[n,l]]):[].concat(Object(c.a)(s.playedSteps.slice(0,s.playedStep+1)),[[n,l]]),playedStep:s.playedStep+1,playedButton:s.playedStep>s.playedButton?s.playedButton+1:s.playedButton}}))}},{key:"getAdjacentCells",value:function(e,t){var a,s=this.state.data[e],n=[],l=Object(o.a)(s.arrows);try{for(l.s();!(a=l.n()).done;){var i=a.value,r=s.x+m[i][0]*t,c=s.y+m[i][1]*t;if(r>=0&&r<this.state.size&&c>=0&&c<this.state.size){var p=this.state.data[c*this.state.size+r];0===p.arrows.length&&p.cellType===j.NORMAL||n.push(p)}}}catch(d){l.e(d)}finally{l.f()}return n}},{key:"updateColor",value:function(e){this.updateCell((function(t,a){a.color=e}))}},{key:"updateCellType",value:function(e){this.updateCell((function(t,a){a.cellType=e}))}},{key:"updateArrow",value:function(e,t){this.updateCell((function(a,s){s.arrows=t?[].concat(Object(c.a)(a.arrows),[e]):a.arrows.filter((function(t){return t!==e}))}))}},{key:"updateCell",value:function(e){this.setState((function(t){var a=t.selectedCell,s=Object(r.a)({},t.data[a]);return e(t.data[a],s),{data:[].concat(Object(c.a)(t.data.slice(0,a)),[s],Object(c.a)(t.data.slice(a+1)))}}))}},{key:"setSolution",value:function(e,t){void 0===t?this.state.noSolutionModal.show():this.setState({solvedSteps:e,solution:t,step:t.length-1,stepButton:Math.max(t.length-2,1)})}},{key:"updateStep",value:function(e){e<this.state.solution.length&&this.setState({step:e})}},{key:"updateStepButton",value:function(e){this.setState({stepButton:e})}},{key:"updatePlayedStep",value:function(e){e<this.state.playedSteps.length&&this.setState({playedStep:e,selectedCell:this.state.playedSteps[e][0]})}},{key:"updatePlayedButton",value:function(e){this.setState({playedButton:e})}},{key:"componentDidUpdate",value:function(e,t){t.size!==this.state.size&&document.querySelector(":root").style.setProperty("--size",this.state.size)}},{key:"setSelectedTab",value:function(e){this.setState({selectedTab:e})}},{key:"render",value:function(){var e,t=null===this.state.selectedCell?null:this.state.data[this.state.selectedCell];return e="play"===this.state.selectedTab?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:"Step size: "+this.state.playedSteps[this.state.playedStep][1]}),Object(v.jsx)(A,{step:this.state.playedStep,maxStep:this.state.playedSteps.length-1,updateStep:this.updatePlayedStep,middle:this.state.playedButton,updateStepButton:this.updatePlayedButton}),Object(v.jsx)(R,{restart:this.setupPlay}),Object(v.jsxs)("div",{class:"alert alert-info mt-3",role:"alert",children:["Your current position is outlined in green. Click on a green square to move onto it. Squares that you have visited already will be in turquoise. ",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"The pagination allows you to navigate between the moves you have made. You can select a previously made move and change it by selecting a different square. Note that this will erase all subsequent moves from that point."]})]}):"edit"===this.state.selectedTab?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S,{size:this.state.size,updateSize:this.updateSize}),Object(v.jsx)("hr",{}),Object(v.jsx)(C,{selected:t,updateCellType:this.updateCellType}),Object(v.jsx)("hr",{}),Object(v.jsx)(f,{selected:t,updateColor:this.updateColor}),Object(v.jsx)("hr",{}),Object(v.jsx)(k,{selected:t,updateArrow:this.updateArrow}),Object(v.jsx)("hr",{}),Object(v.jsx)(w,{data:this.state.data,size:this.state.size})]}):Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(x,{maze:this.state.data,size:this.state.size,setSolution:this.setSolution})}),null!==this.state.solvedSteps?Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(A,{step:this.state.step,maxStep:Math.max(this.state.solution.length-1,2),updateStep:this.updateStep,middle:this.state.stepButton,updateStepButton:this.updateStepButton})}):""]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Select a Maze"}),Object(v.jsx)("p",{children:"The following 20 mazes are from Robert Abbott's original website:"}),Object(v.jsx)(P,{loadMaze:this.loadMaze}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-3",children:Object(v.jsx)("p",{children:"You can also choose to upload your own maze:"})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(T,{loadMaze:this.loadMaze})})]}),Object(v.jsx)("div",{className:"row mb-4",children:Object(v.jsx)(L,{selectTab:this.setSelectedTab,selectedTab:this.state.selectedTab})}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col justify-content-center",children:Object(v.jsx)(I,{data:this.state.data,updateSelected:this.updateSelected,selected:this.state.selectedCell,queue:null===this.state.solvedSteps||"solve"!==this.state.selectedTab?null:this.state.solvedSteps[this.state.step].queue,solution:null===this.state.solvedSteps||"solve"!==this.state.selectedTab?null:this.state.solution,playedSteps:"play"===this.state.selectedTab?this.state.playedSteps:null,playedStep:this.state.playedStep,adjacents:"play"===this.state.selectedTab&&this.state.playedSteps.length>0?this.getAdjacentCells.apply(this,Object(c.a)(this.state.playedSteps[this.state.playedStep])):null})}),Object(v.jsx)("div",{className:"col",children:e})]})]})}}]),a}(n.a.Component),G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,l=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),l(e),i(e)}))};i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(D,{})}),document.getElementById("root")),G()}},[[39,1,2]]]);
//# sourceMappingURL=main.5d772cd2.chunk.js.map