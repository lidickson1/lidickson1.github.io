(this["webpackJsonpalice-maze"]=this["webpackJsonpalice-maze"]||[]).push([[0],{31:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),l=n(16),i=n.n(l),c=(n(31),n(17)),r=n(13),o=n(12),p=n(8),d=n(9),u=n(3),h=n(11),b=n(10),j={NORMAL:1,START:2,GOAL:3},O=n(14),v=n(1),y={BLACK:{name:"black",value:"#000"},RED:{name:"red",value:"#F00"},YELLOW:{name:"yellow",value:"#FFFF00"}};var f=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onChange",value:function(e){this.props.updateColor(y[e.target.id])}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{onChange:this.onChange,children:Object.entries(y).map((function(t,n){var s=Object(O.a)(t,2),a=s[0],l=s[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"radio",id:a,name:"color",checked:null!==e.props.selected&&e.props.selected.color===l,disabled:null===e.props.selected,readOnly:!0}),Object(v.jsx)("label",{htmlFor:a,children:a.charAt(0)+a.slice(1).toLowerCase()})]},n)}))})}}]),n}(a.a.Component),m=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],S=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).solve=s.solve.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"solve",value:function(){for(var e,t=this.props.maze,n=t.find((function(e){return e.cellType===j.START})),s=[{cell:n,stepSize:1,path:[n],depth:0}],a=new Map,l={},i=0,c=[];s.length>0;){var p=s.shift();if(p.depth!==i){var d,u=new Map,h=Object(o.a)(c);try{for(h.s();!(d=h.n()).done;){var b=d.value;u.set(b.cell.y*this.props.size+b.cell.x,b)}}catch(z){h.e(z)}finally{h.f()}l[i]={queue:u},i++}if(c.push(p),p.cell.color===y.RED)p.stepSize++;else if(p.cell.color===y.YELLOW&&(p.stepSize--,0===p.stepSize))continue;var O,v=Object(o.a)(p.cell.arrows);try{for(v.s();!(O=v.n()).done;){var f=O.value,S=p.cell.x+m[f][0]*p.stepSize,x=p.cell.y+m[f][1]*p.stepSize;if(S>=0&&S<this.props.size&&x>=0&&x<this.props.size){var C=x*this.props.size+S,g=t[C];if(a.has(p.stepSize)&&a.get(p.stepSize).includes(C))continue;a.has(p.stepSize)||a.set(p.stepSize,[]),a.get(p.stepSize).push(C);var k=[].concat(Object(r.a)(p.path),[g]);s.push({cell:g,stepSize:p.stepSize,path:[].concat(Object(r.a)(p.path),[g]),depth:p.depth+1}),g.cellType===j.GOAL&&(e=k)}}}catch(z){v.e(z)}finally{v.f()}}for(var B=new Map,R=0,w=c;R<w.length;R++){var T=w[R];B.set(T.cell.y*this.props.size+T.cell.x,T)}l[i]={queue:B},console.log(l),this.props.setSolution(l,e)}},{key:"render",value:function(){return Object(v.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.solve,children:"Solve"})}}]),n}(a.a.Component),x=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onInput=s.onInput.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onInput",value:function(e){e.target.value&&this.props.updateSize(parseInt(e.target.value))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{htmlFor:"size",children:"Size (max 10):"}),Object(v.jsx)("input",{type:"number",id:"size",min:"2",max:"10",value:this.props.size,onChange:this.onInput})]})}}]),n}(a.a.Component),C=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onChange",value:function(e){this.props.updateCellType(j[e.target.id])}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{onChange:this.onChange,children:Object.entries(j).map((function(t,n){var s=Object(O.a)(t,2),a=s[0],l=s[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"radio",id:a,name:"cellType",checked:null!==e.props.selected&&e.props.selected.cellType===l,disabled:null===e.props.selected,readOnly:!0}),Object(v.jsx)("label",{htmlFor:a,children:a.charAt(0)+a.slice(1).toLowerCase()})]},n)}))})}}]),n}(a.a.Component),g=n(26),k=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).getInput=s.getInput.bind(Object(u.a)(s)),s.onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onChange",value:function(e,t){this.props.updateArrow(e,t)}},{key:"getInput",value:function(e){var t=this;return Object(v.jsx)(g.a.Check,{type:"checkbox",id:e,checked:null!==this.props.selected&&this.props.selected.cellType!==j.GOAL&&this.props.selected.arrows.includes(e),disabled:null===this.props.selected||this.props.selected.cellType===j.GOAL,onChange:function(n){return t.onChange(e,n.target.checked)},readOnly:!0})}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h6",{children:"Arrows"}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-1",children:this.getInput(7)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(0)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(1)})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-1",children:this.getInput(6)}),Object(v.jsx)("div",{className:"col-1"}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(2)})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-1",children:this.getInput(5)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(4)}),Object(v.jsx)("div",{className:"col-1",children:this.getInput(3)})]})]})}}]),n}(a.a.Component),B=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onClick",value:function(){for(var e="",t=this.props.data,n=0;n<t.length;n++){var s=!1;if(t[n].cellType===j.START?(e+="S",s=!0):t[n].cellType===j.NORMAL?s=!0:t[n].cellType===j.GOAL&&(e+="G"),s)if(0===t[n].arrows.length)e+="B";else{t[n].color!==y.BLACK&&(e+=t[n].color.name.toUpperCase().charAt(0));var a,l=Object(o.a)(t[n].arrows);try{for(l.s();!(a=l.n()).done;){e+=a.value}}catch(p){l.e(p)}finally{l.f()}}(n+1)%this.props.size===0?e+="\n":e+=" "}var i=new Blob([e],{type:"text/plain"}),c=document.createElement("a"),r=URL.createObjectURL(i);c.href=r,c.download="maze.txt",document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(r)}),0)}},{key:"render",value:function(){return Object(v.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onClick,children:"Save"})}}]),n}(a.a.Component),R=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s.onChange=s.onChange.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onClick",value:function(){document.getElementById("fileInput").click()}},{key:"onChange",value:function(e){var t=this,n=e.target.files[0],s=new FileReader;s.addEventListener("load",(function(e){t.props.loadMaze(e.target.result)})),s.readAsText(n)}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onClick,children:"Load"}),Object(v.jsx)("input",{id:"fileInput",type:"file",accept:".txt",style:{display:"none"},onChange:this.onChange})]})}}]),n}(a.a.Component),w={NOT_VISITED:0,VISITING:1,VISITED:2,ON_PATH:3},T=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).handleClick=s.handleClick.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"handleClick",value:function(){this.props.handler(this.props.x,this.props.y)}},{key:"render",value:function(){var e,t=this;e=this.props.visit===w.VISITING?"#66FF66":this.props.cellType===j.START?"#FF7FED":this.props.visit===w.ON_PATH?"#33e5b2":this.props.visit===w.VISITED?"#00CCFF":this.props.x%2===this.props.y%2?"#CCCCCC":"#DDDDDD";var n,s=parseInt(getComputedStyle(document.querySelector(":root")).getPropertyValue("--cell-size")),a=.16*s,l=.08*s,i=20,c=[],r={0:[[s/2,a],[s/2-i,a],[s/2+i,a]],1:[[s-a,a],[s-a-i,a],[s-a,a+i]],2:[[s-a,s/2],[s-a,s/2-i],[s-a,s/2+i]],3:[[s-a,s-a],[s-a,s-a-i],[s-a-i,s-a]],4:[[s/2,s-a],[s/2-i,s-a],[s/2+i,s-a]],5:[[a,s-a],[a,s-a-i],[a+i,s-a]],6:[[a,s/2],[a,s/2-i],[a,s/2+i]],7:[[a,a],[a+i,a],[a,a+i]]};if(null!==this.props.solution){var p,d=Object(o.a)(this.props.solution);try{for(d.s();!(p=d.n()).done;){var u=Object(O.a)(p.value,2),h=u[0],b=u[1];if(b.length>0)for(var y=r[h],f=0;f<Math.min(y.length,b.length);f++)c.push(Object(v.jsx)("text",{x:y[f][0],y:y[f][1],"dominant-baseline":"middle","text-anchor":"middle","font-size":"16",fill:"white",stroke:"black","stroke-width":"0.6","font-weight":"bold",children:b[f].i}))}}catch(m){d.e(m)}finally{d.f()}}return n=this.props.cellType===j.GOAL?"GOAL"+(null===this.props.solution?"":" "+Array.from(this.props.solution.values()).find((function(e){return e.length>0}))[0].i):Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,style:{pointerEvents:"none"},children:[Object(v.jsxs)("defs",{children:[Object(v.jsx)("marker",{id:"arrowhead_black",viewBox:"0 0 40 40",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto",children:Object(v.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#000"})}),Object(v.jsx)("marker",{id:"arrowhead_red",viewBox:"0 0 40 40",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto",children:Object(v.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#F00"})}),Object(v.jsx)("marker",{id:"arrowhead_yellow",viewBox:"0 0 40 40",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto",children:Object(v.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#FFFF00"})})]}),this.props.arrows.map((function(e,n){return Object(v.jsx)("line",{x1:s/2,y1:t.props.arrows.length>1?s/2:s-a,x2:s/2,y2:a,stroke:t.props.color.value,strokeWidth:l,markerEnd:"url(#arrowhead_"+t.props.color.name+")",transform:"rotate("+45*e+" "+s/2+" "+s/2+")"},n)})),c]}),Object(v.jsx)("div",{className:"cell",onClick:this.handleClick,style:{backgroundColor:e,borderColor:this.props.selected?"lime":"black"},children:n})}}]),n}(a.a.Component),z=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).handler=s.handler.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"handler",value:function(e,t){this.props.updateSelected(e,t)}},{key:"render",value:function(){var e=this,t=0,n=new Map;if(null!==this.props.queue){var a,l=Object(o.a)(this.props.queue.values());try{for(l.s();!(a=l.n()).done;){var i=a.value;i.depth>t&&(t=i.depth)}}catch(b){l.e(b)}finally{l.f()}for(var p=0;p<this.props.solution.length;p++){var d=this.props.solution[p],u=0;if(p<this.props.solution.length-1){var h=this.props.solution[p+1];u=h.y<d.y&&h.x===d.x?0:h.y<d.y&&h.x>d.x?1:h.y===d.y&&h.x>d.x?2:h.y>d.y&&h.x>d.x?3:h.y>d.y&&h.x===d.x?4:h.y>d.y&&h.x<d.x?5:h.y===d.y&&h.x<d.x?6:7}n.has(u)||n.set(u,[]),n.get(u).push(Object(c.a)(Object(c.a)({},d),{},{i:p,direction:u}))}console.log(n)}return Object(v.jsx)("div",{className:"maze",children:this.props.data.map((function(a,l){var i=w.NOT_VISITED;return null!==e.props.queue&&e.props.queue.has(l)&&(i=e.props.queue.get(l).depth===t?w.VISITING:e.props.solution.some((function(e){return e.x===a.x&&e.y===a.y}))?w.ON_PATH:w.VISITED),null!==e.props.adjacents&&e.props.adjacents.some((function(e){return e.x===a.x&&e.y===a.y}))?i=w.VISITING:null!==e.props.playedSteps&&e.props.playedSteps.slice(0,e.props.playedStep+1).map((function(e){return e[0]})).includes(l)&&(i=w.ON_PATH),Object(s.createElement)(T,Object(c.a)(Object(c.a)({},a),{},{key:l,selected:null!==e.props.selected&&e.props.selected===l,handler:e.handler,visit:i,solution:null===e.props.solution||i!==w.ON_PATH&&i!==w.VISITING?null:new Map(Object(r.a)(n).map((function(e){var t=Object(O.a)(e,2);return[t[0],t[1].filter((function(e){return e.x===a.x&&e.y===a.y}))]})))}))}))})}}]),n}(a.a.Component),N=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s.previous=s.previous.bind(Object(u.a)(s)),s.next=s.next.bind(Object(u.a)(s)),s.getClass=s.getClass.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onClick",value:function(e){this.props.updateStep(e)}},{key:"previous",value:function(){this.props.step>0&&this.props.updateStep(this.props.step-1),this.props.middle>1&&this.props.step<this.props.middle&&this.props.updateStepButton(this.props.middle-1)}},{key:"next",value:function(){this.props.step<this.props.maxStep&&this.props.updateStep(this.props.step+1),this.props.middle<this.props.maxStep-1&&this.props.step>this.props.middle&&this.props.updateStepButton(this.props.middle+1)}},{key:"getClass",value:function(e){return void 0===this.props.step||this.props.maxStep<e?"disabled":void 0!==this.props.step&&this.props.step===e?"active":""}},{key:"render",value:function(){var e=this;return Object(v.jsx)("nav",{"aria-label":"Page navigation example",children:Object(v.jsxs)("ul",{className:"pagination",children:[Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("button",{className:"page-link",onClick:this.previous,children:"Previous"})}),Object(v.jsx)("li",{className:"page-item "+this.getClass(this.props.middle-1),children:Object(v.jsx)("button",{className:"page-link",onClick:function(){return e.onClick(e.props.middle-1)},children:void 0===this.props.step?0:this.props.middle-1})}),Object(v.jsx)("li",{className:"page-item "+this.getClass(this.props.middle),children:Object(v.jsx)("button",{className:"page-link",onClick:function(){return e.onClick(e.props.middle)},children:void 0===this.props.step?1:this.props.middle})}),Object(v.jsx)("li",{className:"page-item "+this.getClass(this.props.middle+1),children:Object(v.jsx)("button",{className:"page-link",onClick:function(){return e.onClick(e.props.middle+1)},children:void 0===this.props.step?2:this.props.middle+1})}),Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("button",{className:"page-link",onClick:this.next,children:"Next"})})]})})}}]),n}(a.a.Component),Y=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).onClick=s.onClick.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"onClick",value:function(e){this.props.selectTab(e)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(v.jsx)("li",{className:"nav-item",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link"+("play"===this.props.selectedTab?" active":""),id:"play-tab","data-bs-toggle":"tab","data-bs-target":"#play",type:"button",role:"tab",onClick:function(){return e.onClick("play")},children:"Play"})}),Object(v.jsx)("li",{className:"nav-item",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link"+("edit"===this.props.selectedTab?" active":""),id:"edit-tab","data-bs-toggle":"tab","data-bs-target":"#edit",type:"button",role:"tab",onClick:function(){return e.onClick("edit")},children:"Edit"})}),Object(v.jsx)("li",{className:"nav-item",role:"presentation",children:Object(v.jsx)("button",{className:"nav-link"+("solve"===this.props.selectedTab?" active":""),id:"solve-tab","data-bs-toggle":"tab","data-bs-target":"#solve",type:"button",role:"tab",onClick:function(){return e.onClick("solve")},children:"Solve"})})]})}}]),n}(a.a.Component),I=n(25),A=n(21),L=n(19),G=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).state={show:!1},s.show=s.show.bind(Object(u.a)(s)),s.hide=s.hide.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{variant:"danger",onClick:this.show,children:"Restart"}),Object(v.jsxs)(L.a,{show:this.state.show,onHide:this.hide,children:[Object(v.jsx)(L.a.Header,{closeButton:!0,children:Object(v.jsx)(L.a.Title,{children:"Restart"})}),Object(v.jsx)(L.a.Body,{children:"Are you sure you want to restart?"}),Object(v.jsxs)(L.a.Footer,{children:[Object(v.jsx)(A.a,{variant:"secondary",onClick:function(){e.hide(),e.props.restart()},children:"Yes"}),Object(v.jsx)(A.a,{variant:"primary",onClick:this.hide,children:"No"})]})]})]})}}]),n}(a.a.Component),M=["S3 3  53 65 4\n    1  5  63 15 7\n    3  73 3  51 4\n    1  5  64 2  4\n    02 1  62 7  G","S3 2 53 6 G\n    1 5 65 2 7\n    4 73 1 17 7\n    3 1 53 0 40\n    1 62 1 1 R6","S2 3 2 23 Y5\n    0 51 51 53 5\n    3 75 72 73 5\n    3 5 37 63 0\n    G 1 0 7 R0","42 62 642 Y4\n    S2 0 4 4\n    0 604 6 64\n    R0 6 62 G","3 24 62 46 6\n    41 4 462 3 R64\n    04 04 G 7 04\n    1 7 R0 7 4\n    1 Y62 S0 0 R6","R4 6 65 6 B B B\n    G 624 7 06 B B B\n    02 1 042 0 B B B\n    4 03 73 R0 B B B\n    0 1 74 06 B B B\n    02 01 0 6 B B B\n    Y0 S62 62 0 B B B","Y2 62 3 2 G B\n    Y2 21 24 6 064 B\n    B B B B B B\n    0 0 6 S04 64 B\n    R2 0 062 064 Y6 B\n    R02 7 06 60 06 B","34 Y4 62 R5 6\n    Y40 Y41 G 65 64\n    04 2 73 035 0\n    02 12 23 73 R0\n    Y2 62 S61 01 R0","S4 4 6 64 6 R6\n    3 53 35 65 6 760\n    4 4 R0 R6 Y0 Y40\n    14 24 R2 R2 52 0\n    23 2 13 2 0 04\n    1 R2 72 62 0 G","3 3 2 3 35 Y6 6\n    24 10 Y64 1 6 62 65\n    4 0 6 S64 37 24 R6\n    B B B B B B B\n    24 0 2 G 35 350 6\n    R2 75 62 2 50 0 R0\n    R2 Y1 72 762 7 0 0","S42 2 42 2 32 R4 4\n    3 3 5 3 32 3 6\n    02 Y5 2 61 4 4 4\n    40 Y1 15 6 46 40 4\n    30 3 15 37 7 7 5\n    2 345 2 37 5 6 4\n    R0 R1 R0 6 62 62 G","S3 25 5 5 26 5 62 4\n    4 3 573 7 6 75 0 4\n    41 4 3 04 62 17 47 4\n    42 3 62 3 62 06 40 5\n    34 1 3 1 3 61 7 05\n    1 51 1 62 1 53 73 7\n    43 17 62 3 51 37 51 4\n    1 1 7 6 1 7 2 G","R2 4 52 R62 24 5 453 G\n    2 74 R3 752 7 64 54 06\n    2 4 40 46 735 6 5 6\n    S0 4 R62 741 624 64 R6 6\n    40 642 1 R04 36 64 53 0\n    0 R2 12 2 2 02 0 04\n    R2 R2 2 2 2 02 R7 R0\n    B B B B B B B B","R24 2 26 4 Y5 42 46 Y4\n    204 42 04 26 Y3 4 5 0\n    204 2 402 1 3 4 6 5\n    S042 20 Y4 4 Y2 62 G 5\n    402 40 62 Y0 1 5 5 6\n    042 Y0 Y3 6 6 Y7 2 0\n    R20 20 Y1 26 26 1 Y062 6\n    B B B B B B B B","Y2 5 4 62 62 2 R4\n    2 2 R3 42 40 Y4 6\n    40 3 362 G 3 7 47\n    0 42 2 7 42 41 40\n    0 1 61 4 R6 6 47\n    02 Y0 0 0 6 6 60\n    R0 67 6 S602 62 62 60","S42 2 R4 62 53 Y3 624 R4\n    R3 2 26 04 2 04 04 5\n    31 0 42 2 62 73 51 5\n    31 Y3 2 62 04 04 Y73 4\n    0 0 51 51 735 51 4 4\n    04 51 751 4 62 4 04 75\n    Y0 02 024 62 40 6 5 R7\n    02 R0 06 6 1 2 R6 G","S42 4 2 R62 62 3 4 46\n    R42 24 2 06 24 6 R46 6\n    4 64 4 06 3 4 51 6\n    2 04 24 R24 Y53 46 4 0\n    2 42 4 2 41 4 51 7\n    1 2 04 2 Y1 5 R6 Y0\n    4 26 6 7 62 62 642 0\n    R0 R1 62 62 6 1 6 G","43 624 64 Y6 6 6 6 6\n    342 42 6 23 6 2 06 64\n    42 4 G 624 3 0 6 0\n    R4 042 3 Y1 R5 74 06 04\n    0 24 0 R1 Y1 714 714 R0\n    42 0 51 1 053 S62 0 064\n    02 62 6 62 62 02 06 0\n    02 02 2 6 Y2 62 062 06","S4 R4 Y62 3 5 5 B B\n    1 2 42 4 6 4 B B\n    2 1 51 04 4 0 B B\n    04 Y4 04 751 Y0 0 B B\n    04 3 0 6 64 04 B B\n    04 2 73 3 5 6 B B\n    2 1 1 71 R6 R6 B B\n    1 3 R0 1 0 G B B","R2 42 53 62 Y2 3 4 Y64\n    R3 4 45 42 R62 62 4 5\n    3 3 1 0 62 64 54 64\n    042 Y1 41 71 71 4 4 06\n    R2 Y37 02 401 50 Y5 74 7\n    03 571 7 5 4 7 74 6\n    41 17 76 602 R62 62 6 0\n    G S02 7 72 Y6 2 06 R0"],F=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"btn-group mr-2 mb-4",role:"group","aria-label":"First group",children:M.map((function(t,n){return Object(v.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return e.props.loadMaze(t)},children:n+1})}))})}}]),n}(a.a.Component),E=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).state={data:[{x:0,y:0,cellType:j.NORMAL,color:y.BLACK,arrows:[]}],size:4,selectedCell:0,solvedSteps:null,stepButton:1,selectedTab:"play",playedSteps:[[0,0]],playedStep:0,solvedModal:new I.Modal(document.getElementById("solvedModal")),noSolutionModal:new I.Modal(document.getElementById("noSolutionModal"))},s.newCell=s.newCell.bind(Object(u.a)(s)),s.loadMaze=s.loadMaze.bind(Object(u.a)(s)),s.updateSize=s.updateSize.bind(Object(u.a)(s)),s.updateSelected=s.updateSelected.bind(Object(u.a)(s)),s.updateColor=s.updateColor.bind(Object(u.a)(s)),s.updateCellType=s.updateCellType.bind(Object(u.a)(s)),s.updateArrow=s.updateArrow.bind(Object(u.a)(s)),s.setSolution=s.setSolution.bind(Object(u.a)(s)),s.updateStep=s.updateStep.bind(Object(u.a)(s)),s.updateStepButton=s.updateStepButton.bind(Object(u.a)(s)),s.updatePlayedStep=s.updatePlayedStep.bind(Object(u.a)(s)),s.updatePlayedButton=s.updatePlayedButton.bind(Object(u.a)(s)),s.setSelectedTab=s.setSelectedTab.bind(Object(u.a)(s)),s.setupPlay=s.setupPlay.bind(Object(u.a)(s)),s.getAdjacentCells=s.getAdjacentCells.bind(Object(u.a)(s)),setTimeout((function(){return s.loadMaze("432R G  5Y\n0   0  5\nS02  2  0")}),1),document.querySelector(":root").style.setProperty("--size",s.state.size),s}return Object(d.a)(n,[{key:"setupPlay",value:function(){var e,t=this.state.data.findIndex((function(e){return e.cellType===j.START}));e=this.state.data[t].color===y.RED?2:this.state.data[t].color===y.YELLOW?0:1,this.setState({selectedCell:t,playedSteps:[[t,e]],playedStep:0,playedButton:1})}},{key:"loadMaze",value:function(e){var t=this;console.log("load maze");var n,s=null,a=1,l=[],i=Object(o.a)(e.split("\n"));try{for(i.s();!(n=i.n()).done;){var c=n.value.trim().split(/ +/);null===s?s=c.length:c[0].startsWith("#")||a++;for(var r=0;r<c.length;r++){var p=c[r].replace("\r",""),d=this.newCell(r,a-1),u=!0;p.includes("S")?d.cellType=j.START:p.includes("G")?(d.cellType=j.GOAL,u=!1):d.cellType=j.NORMAL,u&&(p.includes("R")?d.color=y.RED:p.includes("Y")&&(d.color=y.YELLOW),d.arrows=p.split("").filter((function(e){return!isNaN(e)})).map((function(e){return parseInt(e)}))),l.push(d)}if(a===s)break}}catch(h){i.e(h)}finally{i.f()}this.setState({data:l,size:s,solvedSteps:null,stepButton:1,playedSteps:[[0,0]],playedStep:0,selectedCell:0},(function(){return t.setupPlay()}))}},{key:"updateSize",value:function(e){var t=this;this.setState((function(n){var s;if(e<n.size)s=n.data.filter((function(t){return t.x<e&&t.y<e}));else if(e>n.size){s=[];var a,l=Object(o.a)(n.data);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(s.push(i),i.x+1===n.size)for(var c=1;c<e-i.x;c++)s.push(t.newCell(i.x+c,i.y))}}catch(d){l.e(d)}finally{l.f()}for(var r=0;r<e-n.size;r++)for(var p=0;p<e;p++)s.push(t.newCell(p,e-1))}else s=n.data;return{size:e,data:s,selectedCell:null}}))}},{key:"newCell",value:function(e,t){return{x:e,y:t,cellType:j.NORMAL,color:y.BLACK,arrows:[]}}},{key:"updateSelected",value:function(e,t){var n=t*this.state.size+e;if("play"===this.state.selectedTab){var s=this.getAdjacentCells.apply(this,Object(r.a)(this.state.playedSteps[this.state.playedStep])).find((function(n){return n.x===e&&n.y===t}));if(void 0===s)return;s.cellType===j.GOAL&&this.state.solvedModal.show(),this.setState((function(e){var t=e.playedSteps[e.playedStep][1];return e.data[n].color===y.RED?t++:e.data[n].color===y.YELLOW&&t--,{selectedCell:e.selectedCell===n?null:n,playedSteps:e.playedStep+1>=e.playedSteps.length?[].concat(Object(r.a)(e.playedSteps),[[n,t]]):[].concat(Object(r.a)(e.playedSteps.slice(0,e.playedStep+1)),[[n,t]]),playedStep:e.playedStep+1,playedButton:e.playedStep>e.playedButton?e.playedButton+1:e.playedButton}}))}else this.setState((function(e){return{selectedCell:e.selectedCell===n?null:n}}))}},{key:"getAdjacentCells",value:function(e,t){var n,s=this.state.data[e],a=[],l=Object(o.a)(s.arrows);try{for(l.s();!(n=l.n()).done;){var i=n.value,c=s.x+m[i][0]*t,r=s.y+m[i][1]*t;if(c>=0&&c<this.state.size&&r>=0&&r<this.state.size){var p=this.state.data[r*this.state.size+c];0===p.arrows.length&&p.cellType===j.NORMAL||a.push(p)}}}catch(d){l.e(d)}finally{l.f()}return a}},{key:"updateColor",value:function(e){this.updateCell((function(t,n){n.color=e}))}},{key:"updateCellType",value:function(e){this.updateCell((function(t,n){n.cellType=e}))}},{key:"updateArrow",value:function(e,t){this.updateCell((function(n,s){s.arrows=t?[].concat(Object(r.a)(n.arrows),[e]):n.arrows.filter((function(t){return t!==e}))}))}},{key:"updateCell",value:function(e){this.setState((function(t){var n=t.selectedCell,s=Object(c.a)({},t.data[n]);return e(t.data[n],s),{data:[].concat(Object(r.a)(t.data.slice(0,n)),[s],Object(r.a)(t.data.slice(n+1)))}}))}},{key:"setSolution",value:function(e,t){void 0===t?this.state.noSolutionModal.show():this.setState({solvedSteps:e,solution:t,step:t.length-1,stepButton:Math.max(t.length-2,1)})}},{key:"updateStep",value:function(e){e<this.state.solution.length&&this.setState({step:e})}},{key:"updateStepButton",value:function(e){this.setState({stepButton:e})}},{key:"updatePlayedStep",value:function(e){e<this.state.playedSteps.length&&this.setState({playedStep:e,selectedCell:this.state.playedSteps[e][0]})}},{key:"updatePlayedButton",value:function(e){this.setState({playedButton:e})}},{key:"componentDidUpdate",value:function(e,t){t.size!==this.state.size&&document.querySelector(":root").style.setProperty("--size",this.state.size)}},{key:"setSelectedTab",value:function(e){"play"===e&&this.setState({selectedCell:this.state.playedSteps[this.state.playedStep][0]}),this.setState({selectedTab:e})}},{key:"render",value:function(){var e,t=null===this.state.selectedCell?null:this.state.data[this.state.selectedCell];return e="play"===this.state.selectedTab?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:"Step size: "+this.state.playedSteps[this.state.playedStep][1]}),Object(v.jsx)(N,{step:this.state.playedStep,maxStep:this.state.playedSteps.length-1,updateStep:this.updatePlayedStep,middle:this.state.playedButton,updateStepButton:this.updatePlayedButton}),Object(v.jsx)(G,{restart:this.setupPlay}),Object(v.jsxs)("div",{class:"alert alert-info mt-3",role:"alert",children:["Your current position is outlined in green. Click on a green square to move onto it. Squares that you have visited already will be in turquoise. ",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"The pagination allows you to navigate between the moves you have made. You can select a previously made move and change it by selecting a different square. Note that this will erase all subsequent moves from that point."]})]}):"edit"===this.state.selectedTab?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x,{size:this.state.size,updateSize:this.updateSize}),Object(v.jsx)("hr",{}),Object(v.jsx)(C,{selected:t,updateCellType:this.updateCellType}),Object(v.jsx)("hr",{}),Object(v.jsx)(f,{selected:t,updateColor:this.updateColor}),Object(v.jsx)("hr",{}),Object(v.jsx)(k,{selected:t,updateArrow:this.updateArrow}),Object(v.jsx)("hr",{}),Object(v.jsx)(B,{data:this.state.data,size:this.state.size})]}):Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(S,{maze:this.state.data,size:this.state.size,setSolution:this.setSolution})}),null!==this.state.solvedSteps?Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(N,{step:this.state.step,maxStep:Math.max(this.state.solution.length-1,2),updateStep:this.updateStep,middle:this.state.stepButton,updateStepButton:this.updateStepButton})}):""]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Select a Maze"}),Object(v.jsx)("p",{children:"The following 20 mazes are from Robert Abbott's original website:"}),Object(v.jsx)(F,{loadMaze:this.loadMaze}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-3",children:Object(v.jsx)("p",{children:"You can also choose to upload your own maze:"})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(R,{loadMaze:this.loadMaze})})]}),Object(v.jsx)("div",{className:"row mb-4",children:Object(v.jsx)(Y,{selectTab:this.setSelectedTab,selectedTab:this.state.selectedTab})}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col justify-content-center",children:Object(v.jsx)(z,{data:this.state.data,updateSelected:this.updateSelected,selected:this.state.selectedCell,queue:null===this.state.solvedSteps||"solve"!==this.state.selectedTab?null:this.state.solvedSteps[this.state.step].queue,solution:null===this.state.solvedSteps||"solve"!==this.state.selectedTab?null:this.state.solution,playedSteps:"play"===this.state.selectedTab?this.state.playedSteps:null,playedStep:this.state.playedStep,adjacents:"play"===this.state.selectedTab&&this.state.playedSteps.length>0?this.getAdjacentCells.apply(this,Object(r.a)(this.state.playedSteps[this.state.playedStep])):null})}),Object(v.jsx)("div",{className:"col",children:e})]})]})}}]),n}(a.a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),l(e),i(e)}))};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root")),P()}},[[39,1,2]]]);
//# sourceMappingURL=main.bc920fda.chunk.js.map